(function() {
  var Precession = Calendar.createNS("Calendar.Astronomy.AxialPrecession");
  var Maths = Calendar.importNS("Calendar.Maths");

  var PrecessionData = {
    "IAU1976": {
      "psi": [0, 5038.7784, -1.07259, -0.001147], //赤道岁差、日月岁差，J2000黄道上的岁差，Date平赤道与J2000赤道的角距离
      "omega": [84381.448, 0, +0.05127, -0.007726], //J2000黄道与Date平赤道的夹角
      "P": [0, +4.1976, +0.19447, -0.000179], //Date平赤道坐标系天北极在J2000赤道坐标系中的赤纬
      "Q": [0, -46.8150, +0.05059, +0.000344], //Date平赤道坐标系天北极在J2000赤道坐标系中的赤经
      "epsilon": [84381.448, -46.8150, -0.00059, +0.001813], //当日的黄赤交角
      "chi": [0, +10.5526, -2.38064, -0.001125], //黄道岁差，行星岁差
      "p": [0, 5029.0966, +1.11113, +0.000006], //黄经总岁差
      "theta": [0, 2004.3109, -0.42665, -0.041833], //旋转参数
      "zeta": [0, 2306.2181, +0.30188, +0.017998],
      "z": [0, 2306.2181, +1.09468, +0.018203]
    },
    "IAU2000": {
      "psi": [0, 5038.478750, -1.07259, -0.001147],
      "omega": [84381.448, -0.025240, +0.05127, -0.007726],
      "P": [0, +4.1976, +0.19447, -0.000179],
      "Q": [0, -46.8150, +0.05059, +0.000344],
      "epsilon": [84381.448, -46.84024, -0.00059, +0.001813],
      "chi": [0, +10.5526, -2.38064, -0.001125],
      "p": [0, 5028.79695, +1.11113, +0.000006],
      "theta": [0, 2004.1917476, -0.4269353, -0.0418251, -0.0000601, -
        0.0000001
      ],
      "zeta": [+2.5976176, 2306.0809506, +0.3019015, +0.0179663, -0.0000327, -
        0.0000002
      ],
      "z": [-2.5976176, 2306.0803226, +1.0947790, +0.0182273, +0.0000470, -
        0.0000003
      ]
    },
    "P03": {
      "psi": [0, 5038.481507, -1.0790069, -0.00114045, +0.000132851, -
        9.51e-8
      ],
      "omega": [84381.406000, -0.025754, +0.0512623, -0.00772503, -4.67e-7, +
        3.337e-7
      ],
      "P": [0, 4.199094, +0.1939873, -0.00022466, -9.12e-7, +1.20e-8],
      "Q": [0, -46.811015, +0.0510283, +0.00052413, -6.46e-7, -1.72e-8],
      "epsilon": [84381.406000, -46.836769, -0.0001831, +0.00200340, -
        5.76e-7, -4.34e-8
      ],
      "chi": [0, 10.556403, -2.3814292, -0.00121197, +0.000170663, -5.60e-8],
      "pi": [0, 46.998973, -0.0334926, -0.00012559, +1.13e-7, -2.2e-9],
      "PI": [629546.7936, -867.95758, +0.157992, -0.0005371, -0.00004797, +
        7.2e-8
      ],
      "p": [0, 5028.796195, +1.1054348, +0.00007964, -0.000023857, +3.83e-8],
      "theta": [0, 2004.191903, -0.4294934, -0.04182264, -7.089e-6, -
        1.274e-7
      ],
      "zeta": [2.650545, 2306.083227, +0.2988499, +0.01801828, -5.971e-6, -
        3.173e-7
      ],
      "z": [-2.650545, 2306.077181, +1.0927348, +0.01826837, -0.000028596, -
        2.904e-7
      ]
    }
  };

  for (var model in PrecessionData) {
    Precession[model] = {};
    var precession = Precession[model];
    var modelData = PrecessionData[model];
    for (var parameter in modelData) {
      precession[parameter] = (function(polynomial) {
        return function(t, truncation) { // t 儒略世纪数
          return polynomial.value(t, truncation) / Maths.SecondPerRadian;
        }
      }(new Maths.Polynomial(modelData[parameter].slice(0))));
    }
  }
  //定义别名：P03黄赤交角,t是世纪数
  Precession.P03.obliquity = Precession.P03.epsilon;
})();
